# MultiWeb - Enterprise-Grade Marketplace DevOps Stack

> ë‹¹ê·¼ë§ˆì¼“ ìˆ˜ì¤€ì˜ ì¤‘ê³ ê±°ë˜ í”Œë«í¼ì„ ìœ„í•œ í”„ë¡œë•ì…˜ê¸‰ DevOps ì¸í”„ë¼ í•™ìŠµ í”„ë¡œì íŠ¸

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ

ì‹¤ì œ ìš´ì˜ í™˜ê²½ê³¼ ë™ì¼í•œ ìˆ˜ì¤€ì˜ DevOps ìŠ¤íƒì„ êµ¬ì¶•í•˜ì—¬:
- **ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­, ë¡œê·¸, ë¶„ì‚° íŠ¸ë ˆì´ì‹±
- **í™•ì¥ì„±**: Kubernetes ê¸°ë°˜ ìë™ ìŠ¤ì¼€ì¼ë§
- **ê´€ì°°ì„±**: í†µí•©ëœ observability ìŠ¤íƒ
- **ë°ì´í„° ë¶„ì„**: ìš´ì˜ ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„ ì—°ìŠµ

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Users / Load Tests                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Nginx Ingress Controller                   â”‚
â”‚                    (Reverse Proxy + SSL)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI    â”‚  â”‚   FastAPI    â”‚  â”‚   FastAPI    â”‚
â”‚   Backend    â”‚  â”‚   Backend    â”‚  â”‚   Backend    â”‚
â”‚  (Python)    â”‚  â”‚  (Python)    â”‚  â”‚  (Python)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                 â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â–¼                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ PostgreSQL  â”‚   â”‚    Redis    â”‚
         â”‚  Database   â”‚   â”‚   Cache     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Observability Stack                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Prometheus  â”‚  Grafana  â”‚  Loki  â”‚  OpenTelemetry         â”‚
â”‚  (Metrics)   â”‚  (Viz)    â”‚  (Logs)â”‚  (Tracing)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Testing & Analysis                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Locust      â”‚  Attack   â”‚  Data      â”‚  Jupyter           â”‚
â”‚  (Load Test) â”‚  Scripts  â”‚  Collector â”‚  Notebook          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (2025ë…„ ìµœì‹ )

### Application Layer
- **Backend**: FastAPI 0.115+ (Python 3.12)
- **Database**: PostgreSQL 16
- **Cache**: Redis 7.2
- **Storage**: MinIO (S3-compatible)

### Infrastructure
- **Orchestration**: Kubernetes 1.29+
- **Reverse Proxy**: Nginx Ingress Controller
- **Package Manager**: Helm 3
- **Container Runtime**: containerd

### Observability
- **Metrics**: Prometheus + VictoriaMetrics
- **Visualization**: Grafana 11
- **Logging**: Loki + Promtail
- **Tracing**: OpenTelemetry + Tempo
- **APM**: Python instrumentations

### Testing & Load Generation
- **Load Testing**: Locust (Python)
- **Data Generation**: Faker, Mimesis
- **Attack Simulation**: Custom Python scripts

### Data Analysis
- **Analysis**: Jupyter Lab
- **Libraries**: Pandas, NumPy, Matplotlib, Seaborn
- **Workflow**: Prefect/Dagster (optional)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
multiweb/
â”œâ”€â”€ app/                          # FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ api/                      # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ models/                   # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â”‚   â”œâ”€â”€ schemas/                  # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ services/                 # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ core/                     # ì„¤ì •, ë³´ì•ˆ
â”‚   â””â”€â”€ main.py                   # ì•± ì§„ì…ì 
â”œâ”€â”€ k8s/                          # Kubernetes ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ base/                     # ê¸°ë³¸ ë¦¬ì†ŒìŠ¤
â”‚   â”œâ”€â”€ monitoring/               # Prometheus, Grafana
â”‚   â”œâ”€â”€ logging/                  # Loki, Promtail
â”‚   â””â”€â”€ ingress/                  # Nginx Ingress
â”œâ”€â”€ helm/                         # Helm Charts
â”‚   â””â”€â”€ multiweb/                 # ë©”ì¸ ì°¨íŠ¸
â”œâ”€â”€ tests/                        # ë¶€í•˜ ë° ê³µê²© í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ locust/                   # Locust ì‹œë‚˜ë¦¬ì˜¤
â”‚   â”œâ”€â”€ attacks/                  # ê³µê²© ì‹œë®¬ë ˆì´ì…˜
â”‚   â””â”€â”€ synthetic/                # í•©ì„± ë°ì´í„° ìƒì„±
â”œâ”€â”€ analytics/                    # ë°ì´í„° ë¶„ì„
â”‚   â”œâ”€â”€ notebooks/                # Jupyter notebooks
â”‚   â”œâ”€â”€ collectors/               # ë©”íŠ¸ë¦­ ìˆ˜ì§‘ê¸°
â”‚   â””â”€â”€ dashboards/               # Grafana ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ docker/                       # Docker ì„¤ì •
â”‚   â””â”€â”€ docker-compose.yml        # ë¡œì»¬ ê°œë°œ í™˜ê²½
â”œâ”€â”€ scripts/                      # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ deploy.sh                 # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ setup-k8s.sh              # K8s ì´ˆê¸° ì„¤ì •
â”‚   â””â”€â”€ generate-data.py          # ë°ì´í„° ìƒì„±
â””â”€â”€ docs/                         # ë¬¸ì„œ
    â”œâ”€â”€ ARCHITECTURE.md           # ì•„í‚¤í…ì²˜ ì„¤ëª…
    â”œâ”€â”€ DEPLOYMENT.md             # ë°°í¬ ê°€ì´ë“œ
    â””â”€â”€ MONITORING.md             # ëª¨ë‹ˆí„°ë§ ê°€ì´ë“œ
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ë¡œì»¬ ê°œë°œ í™˜ê²½ (Docker Compose)

```bash
# ì „ì²´ ìŠ¤íƒ ì‹œì‘
docker-compose up -d

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì†
# API: http://localhost:8000
# Grafana: http://localhost:3000
# Prometheus: http://localhost:9090
```

### 2. Kubernetes í´ëŸ¬ìŠ¤í„° ë°°í¬

```bash
# Minikube ë˜ëŠ” Kind í´ëŸ¬ìŠ¤í„° ìƒì„±
./scripts/setup-k8s.sh

# Helmìœ¼ë¡œ ì „ì²´ ìŠ¤íƒ ë°°í¬
helm install multiweb ./helm/multiweb

# ë˜ëŠ” kubectlë¡œ ì§ì ‘ ë°°í¬
kubectl apply -f k8s/base/
kubectl apply -f k8s/monitoring/
kubectl apply -f k8s/logging/
```

### 3. ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# Locust ë¶€í•˜ í…ŒìŠ¤íŠ¸
cd tests/locust
locust -f marketplace_load.py --host=http://localhost:8000

# ê³µê²© ì‹œë®¬ë ˆì´ì…˜
python tests/attacks/simulate_attacks.py
```

### 4. ë°ì´í„° ë¶„ì„

```bash
# Jupyter Lab ì‹œì‘
cd analytics
jupyter lab

# ë©”íŠ¸ë¦­ ìˆ˜ì§‘
python collectors/collect_metrics.py
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

ì ‘ì† í›„ ë¯¸ë¦¬ êµ¬ì„±ëœ ëŒ€ì‹œë³´ë“œë“¤:

1. **Application Overview**: ì „ì²´ ì‹œìŠ¤í…œ ìƒíƒœ
2. **API Performance**: ì—”ë“œí¬ì¸íŠ¸ë³„ ì„±ëŠ¥
3. **Database Metrics**: PostgreSQL, Redis ìƒíƒœ
4. **Error Tracking**: ì—ëŸ¬ìœ¨, ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤
5. **Business Metrics**: ê±°ë˜ëŸ‰, ì‚¬ìš©ì í™œë™
6. **Attack Detection**: ë¹„ì •ìƒ íŠ¸ë˜í”½ ê°ì§€

## ğŸ“ í•™ìŠµ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì •ìƒ ìš´ì˜ ëª¨ë‹ˆí„°ë§
1. ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
2. í•©ì„± ì‚¬ìš©ì íŠ¸ë˜í”½ ìƒì„±
3. Grafanaì—ì„œ ë©”íŠ¸ë¦­ ê´€ì°°
4. Jupyterì—ì„œ ë°ì´í„° ë¶„ì„

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë¶€í•˜ í…ŒìŠ¤íŠ¸
1. Locustë¡œ ì ì§„ì  ë¶€í•˜ ì¦ê°€
2. Auto-scaling ë™ì‘ ê´€ì°°
3. ë³‘ëª© ì§€ì  ì‹ë³„
4. ì„±ëŠ¥ ìµœì í™”

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì¥ì•  ì‹œë®¬ë ˆì´ì…˜
1. Pod ê°•ì œ ì¢…ë£Œ
2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ëŠê¸°
3. ë³µêµ¬ í”„ë¡œì„¸ìŠ¤ ê´€ì°°
4. MTTR ì¸¡ì •

### ì‹œë‚˜ë¦¬ì˜¤ 4: ê³µê²© ëŒ€ì‘
1. DDoS ê³µê²© ì‹œë®¬ë ˆì´ì…˜
2. SQL Injection ì‹œë„
3. Rate limiting ë™ì‘ í™•ì¸
4. ë³´ì•ˆ ë©”íŠ¸ë¦­ ë¶„ì„

## ğŸ”§ í•µì‹¬ ê¸°ëŠ¥

### ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ëŠ¥
- ì‚¬ìš©ì ì¸ì¦/ì¸ê°€ (JWT)
- ìƒí’ˆ CRUD
- ì´ë¯¸ì§€ ì—…ë¡œë“œ
- ê²€ìƒ‰ ë° í•„í„°ë§
- ì‹¤ì‹œê°„ ì±„íŒ… (WebSocket)
- ê²°ì œ ì‹œë®¬ë ˆì´ì…˜

### DevOps ê¸°ëŠ¥
- ìë™ ìŠ¤ì¼€ì¼ë§ (HPA)
- ë¡¤ë§ ì—…ë°ì´íŠ¸
- í—¬ìŠ¤ ì²´í¬
- Circuit breaker
- Rate limiting
- Request tracing

### ëª¨ë‹ˆí„°ë§ ë©”íŠ¸ë¦­
- **Golden Signals**: Latency, Traffic, Errors, Saturation
- **RED Metrics**: Rate, Errors, Duration
- **USE Metrics**: Utilization, Saturation, Errors
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­**: ê±°ë˜ ìˆ˜, í™œì„± ì‚¬ìš©ì, ë§¤ì¶œ

## ğŸ“ˆ ë°ì´í„° ë¶„ì„ ì˜ˆì œ

ìˆ˜ì§‘ ê°€ëŠ¥í•œ ë°ì´í„°:
- HTTP ìš”ì²­ ë¡œê·¸ (Nginx access logs)
- ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”íŠ¸ë¦­ (Prometheus)
- ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì„±ëŠ¥
- ì—ëŸ¬ íŠ¸ë ˆì´ìŠ¤
- ë¹„ì¦ˆë‹ˆìŠ¤ ì´ë²¤íŠ¸

ë¶„ì„ ì˜ˆì œ:
```python
# ì‹œê°„ëŒ€ë³„ íŠ¸ë˜í”½ íŒ¨í„´ ë¶„ì„
# ì—ëŸ¬ìœ¨ ìƒê´€ê´€ê³„ ë¶„ì„
# ì‚¬ìš©ì í–‰ë™ íŒ¨í„´
# ì„±ëŠ¥ ì´ìƒ íƒì§€
```

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- HTTPS/TLS ì•”í˜¸í™”
- Secret ê´€ë¦¬ (Kubernetes Secrets)
- RBAC (Role-Based Access Control)
- Network Policies
- Pod Security Standards
- Rate limiting & DDoS protection

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- [ì•„í‚¤í…ì²˜ ìƒì„¸ ì„¤ëª…](docs/ARCHITECTURE.md)
- [ë°°í¬ ê°€ì´ë“œ](docs/DEPLOYMENT.md)
- [ëª¨ë‹ˆí„°ë§ ê°€ì´ë“œ](docs/MONITORING.md)

## ğŸ¤ ê¸°ì—¬

í•™ìŠµ í”„ë¡œì íŠ¸ì´ë¯€ë¡œ ììœ ë¡­ê²Œ ìˆ˜ì •í•˜ê³  ì‹¤í—˜í•˜ì„¸ìš”!

## ğŸ“ ë¼ì´ì„¼ìŠ¤

MIT License

---

**ì£¼ì˜**: ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ê¸° ì „ì— ì¶”ê°€ì ì¸ ë³´ì•ˆ ê°•í™”ì™€ ìµœì í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.